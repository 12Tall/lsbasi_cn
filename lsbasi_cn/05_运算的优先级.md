05_è¿ç®—çš„ä¼˜å…ˆçº§

ğŸ“… 2015-10-14  

ä½ æ˜¯å¦‚ä½•å»å¤„ç†å¤æ‚çš„äº‹æƒ…çš„ï¼Œè­¬å¦‚ç†è§£å¦‚ä½•åˆ›é€ ä¸€ä¸ªç¼–è¯‘å™¨å’Œè§£é‡Šå™¨ã€‚è¿™ç±»é—®é¢˜å¼€å§‹æ—¶å°±åƒä¸€å›¢ä¹±éº»ï¼Œéœ€è¦æˆ‘ä»¬æŠ½ä¸å‰¥èŒ§ï¼Œæœ€åç¼ æˆå®Œç¾çš„çº¿å›¢ã€‚  

å­¦ä¹ æ²¡æœ‰æ·å¾„ï¼Œæˆ‘ä»¬éœ€è¦ä¸€æ¬¡ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œæ…¢æ…¢è¿›æ­¥ã€‚æœ‰æ—¶ä½ å¯èƒ½ä¼šè§‰å¾—æœ‰äº›ä¸œè¥¿å¯èƒ½æ— æ³•ç«‹å³æ¥å—ï¼Œä½†å³ä¾¿å¦‚æ­¤ä¹Ÿè¦åšæŒä¸‹å»ã€‚æˆ‘ä¿è¯ï¼Œå¦‚æœä½ æœ‰è¶³å¤Ÿçš„æ¯…åŠ›ï¼Œä¸€å®šä¼š"èŒ…å¡é¡¿å¼€"ã€‚(å¦‚æœæˆ‘æ¯æ¬¡é‡åˆ°éš¾é¢˜éƒ½æ”’25 åˆ†é’±çš„è¯ï¼Œæˆ‘è‚¯å®šæ—©å°±æˆä¸ºå¯Œç¿äº†ğŸ™‚)

å…³äºå¦‚ä½•ç¼–å†™ç¼–è¯‘å™¨ä¸è§£é‡Šå™¨ï¼Œæˆ‘èƒ½ç»™ä½ æœ€å¥½çš„å»ºè®®ææ€•å°±æ˜¯ä»”ç»†é˜…è¯»è¿™ç³»åˆ—çš„æ–‡ç« ã€ä»£ç ï¼Œå¹¶ä¸”è‡ªå·±åŠ¨æ‰‹å»å†™ä»£ç ï¼Œå“ªæ€•æ˜¯ä¸ºäº†ç†Ÿæ‚‰ä»£ç è€Œé‡å¤å·¥ä½œï¼Œç„¶åå†å­¦ä¹ æ–°çš„çŸ¥è¯†ã€‚ä¸è¦ç€æ€¥ï¼Œåªè¦è„šè¸å®åœ°ï¼Œå°†ä¸€äº›åŸºç¡€çš„æ¦‚å¿µçƒ‚ç†Ÿäºå¿ƒã€‚è¿™å¯èƒ½ä¼šå¾ˆæ…¢ï¼Œä½†ä¸€å®šæ˜¯å€¼å¾—çš„ï¼Œç›¸ä¿¡æˆ‘ã€‚  

æˆ‘ä»¬æœ€ç»ˆä¼šå¾—åˆ°ä¸€ä¸ªå®Œç¾çš„çº¿å›¢ï¼Œå°±ç®—å®ƒå¹¶ä¸æ˜¯é‚£ä¹ˆå®Œç¾ï¼Œä¹Ÿæ¯”ä»€ä¹ˆéƒ½ä¸åšæˆ–è€…ä¸‰å¤©æ‰“é±¼ä¸¤å¤©æ™’ç½‘è¦å¥½ã€‚  

ç‰¢ç‰¢è®°ä½ï¼šä¸€æ­¥ä¸€ä¸ªè„šå°ï¼Œé€šè¿‡å†™ä»£ç æ¥ç»ƒä¹ æ‰€å­¦çš„çŸ¥è¯†ï¼š  
![lsbasi_part5_ballofyarn.png](../_resources/lsbasi_part5_ballofyarn.png)

ä»Šå¤©æˆ‘ä»¬ä¼šç”¨åˆ°ä¹‹å‰æ‰€å­¦çš„æ‰€æœ‰çŸ¥è¯†ï¼Œæ¥å†™ä¸€ä¸ªå¯ä»¥å¤„ç†å››åˆ™è¿ç®—çš„è§£é‡Šå™¨ï¼Œè­¬å¦‚`14 + 2 * 3 - 6 / 2`ã€‚  

åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹è¿ç®—ç¬¦çš„`ç»“åˆæ€§`å’Œ`ä¼˜å…ˆçº§`ã€‚

ä¸€èˆ¬çº¦å®š`7 + 3 + 1` ä¸`(7 + 3) + 1` ç›¸åŒï¼Œ`7 - 3 - 1` ä¸`(7 - 3) - 1` ç­‰æ•ˆã€‚è¿™ä¸ªæˆ‘ä»¬éƒ½å­¦ä¹ è¿‡å¹¶å°†å…¶è§†ä½œç†æ‰€å½“ç„¶ã€‚å¦‚æœæˆ‘ä»¬å°†`7 - 3 - 1` ç­‰åŒäº`7 - (3 - 1)` ç»“æœå°±ä¼šæ˜¯5 è€Œä¸æ˜¯3 äº†ã€‚  

åœ¨æ™®é€šçš„ç®—æ•°è¿ç®—å’Œå¤§å¤šæ•°åœ°ç¼–ç¨‹è¯­è¨€ä¸­ï¼ŒåŠ å‡ä¹˜é™¤éƒ½æ˜¯å‘å·¦ç»“åˆçš„ï¼š  
```txt
7 + 3 + 1 is equivalent to (7 + 3) + 1
7 - 3 - 1 is equivalent to (7 - 3) - 1
8 * 4 * 2 is equivalent to (8 * 4) * 2
8 / 4 / 2 is equivalent to (8 / 4) / 2
```  

ä»€ä¹ˆæ˜¯å‘å·¦ç»“åˆ?  

å½“ä¸€ä¸ªæ“ä½œæ•°ï¼Œä¾‹å¦‚`7+3+1` ä¸­çš„3ï¼Œä¸¤è¾¹éƒ½æœ‰åŠ å·çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦çº¦å®šé‚£è¾¹çš„è¿ç®—ç¬¦ä¼šä½¿ç”¨è¯¥æ“ä½œæ•°ã€‚æ˜¯å·¦è¿˜æ˜¯å³? è¿ç®—ç¬¦`+` å‘å·¦å…³è”ï¼Œå› ä¸ºæ“ä½œæ•°å±äºå·¦è¾¹çš„åŠ å·ï¼Œæ‰€ä»¥æˆ‘ä»¬è¯´è¿ç®—ç¬¦`+` æ˜¯å‘å·¦ç»“åˆçš„ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆçº¦å®š`7 + 3 + 1` ç­‰äº`(7 + 3) + 1`ã€‚  

```txt
è¯‘æ³¨ï¼šåº”è¯¥ä¸éš¾å¾—åˆ°ä¸‹å›¾
        +
      /   \
    +       \   
  /   \       \
7   +   3   +   1
```

å¥½äº†ï¼Œå½“æ“ä½œæ•°ä¸¤è¾¹çš„ç¬¦å·ä¸ä¸€è‡´æ—¶ï¼Œä¾‹å¦‚`7 + 5 * 2`ï¼Œè¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿè¡¨è¾¾å¼æ˜¯åº”è¯¥ç­‰æ•ˆäº`7 + (5 * 2)` è¿˜æ˜¯`(7 + 5) * 2`ï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªæ­§ä¹‰å‘¢?  

ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œç»“åˆæ€§å¤±æ•ˆäº†ï¼Œå› ä¸ºç»“åˆæ€§åªé€‚ç”¨äºåŒç§(ä¼˜å…ˆçº§çš„)è¿ç®—ç¬¦ï¼ŒåŠ æ³•(+,-) æˆ–ä¹˜æ³•(*,/)ã€‚æˆ‘ä»¬éœ€è¦å¦ä¸€ç§çº¦å®šæ¥è§£å†³è¡¨è¾¾å¼æ‹¥æœ‰ä¸åŒè¿ç®—ç¬¦æ—¶æ­§ä¹‰çš„é—®é¢˜ã€‚æˆ‘ä»¬å°†è¿™ç§çº¦å®šå®šä¹‰ä¸ºè¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ã€‚  

å¦‚ä¸‹ï¼šæˆ‘ä»¬çº¦å®šï¼Œåœ¨`7 + 5 * 2` ä¸­ï¼Œ`*` è¦æ¯”`+` å…ˆè·å–åˆ°æ“ä½œæ•°5ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„å…ˆä¹˜é™¤ï¼ŒååŠ å‡ã€‚æ‰€ä»¥`7 + 5 * 2` ç­‰åŒäº`7 + (5 * 2)`ï¼Œ`7 - 8 / 4` ç­‰åŒäº`7 - (8 / 4)`ã€‚

```txt
è¯‘æ³¨ï¼šåº”è¯¥ä¸éš¾å¾—åˆ°ä¸‹å›¾
        +
      /   \
    /       * 
  /       /   \
7   +   5   *   2
```

åœ¨å…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„è¡¨è¾¾å¼ä¸­ï¼Œåªéœ€ä»å·¦è‡³å³ä½¿ç”¨ç»“åˆæ€§å³å¯ï¼š  
```txt
7 + 3 - 1 is equivalent to (7 + 3) - 1
8 / 4 * 2 is equivalent to (8 / 4) * 2
```
æˆ‘å¸Œæœ›ä½ ä¸ä¼šå› ä¸ºæˆ‘è®²å¤ªå¤šå…³äºç»“åˆæ€§ä¸ä¼˜å…ˆçº§çš„å†…å®¹è€Œæ„Ÿåˆ°å¿ƒçƒ¦ã€‚å…³äºç»“åˆæ€§å’Œä¼˜å…ˆçº§ï¼Œæˆ‘ä»¬å¯ä»¥ç»˜åˆ¶ä¸€ä¸ªæ¼‚äº®çš„è¡¨æ ¼ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥å°†å…¶è¯­æ³•æŒ‰ç…§[04_ä¸Šä¸‹æ–‡æ— å…³è¯­æ³•](../lsbasi_cn/04_%E4%B8%8A%E4%B8%8B%E6%96%87%E6%97%A0%E5%85%B3%E8%AF%AD%E6%B3%95.md) ç»™å‡ºçš„è§„åˆ™ç¿»è¯‘æˆä»£ç ï¼Œæˆ‘ä»¬çš„è§£é‡Šå™¨ä¹Ÿç»ˆå°†èƒ½å¤Ÿå¤„ç†ä¼˜å…ˆçº§ä¸ç»“åˆæ€§çš„è¿ç®—ã€‚è¡¨æ ¼è¯¦æƒ…å¦‚ä¸‹ï¼š  
![lsbasi_part5_precedence.png](../_resources/lsbasi_part5_precedence.png)  

ä»è¡¨ä¸­å¯ä»¥çœ‹å‡ºï¼ŒåŠ å‡æ³•åœ¨åŒä¸€ä¼˜å…ˆçº§ï¼Œå‘å·¦ç»“åˆã€‚ä¹˜é™¤æ³•åŒåœ¨å•†è®®ä¼˜å…ˆçº§ï¼Œä¹Ÿæ˜¯å‘å·¦ç»“åˆã€‚ä¸‹é¢æ˜¯æ ¹æ®ä¼˜å…ˆçº§è¡¨å¦‚ä½•æ„é€ ä¸Šä¸‹æ–‡æ— å…³è¯­æ³•çš„è§„åˆ™ï¼š  
- å¯¹äºæ¯ä¸ªä¼˜å…ˆçº§ï¼Œå®šä¹‰ä¸€ä¸ªéç»ˆæ­¢ç¬¦ã€‚è§„åˆ™ä½“åŒ…å«è¯¥ä¼˜å…ˆçº§çš„è¿ç®—ç¬¦ï¼Œå’Œä¸Šä¸€ä¼˜å…ˆçº§çš„éç»ˆæ­¢ç¬¦(ä½œä¸ºæ“ä½œæ•°)
- åˆ›å»ºé¢å¤–çš„éç»ˆæ­¢ç¬¦(factor) ä½œä¸ºè¡¨è¾¾å¼çš„åŸºç¡€å•ä½ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæˆ‘ä»¬æœ‰N ä¸ªä¼˜å…ˆçº§ï¼Œå°±éœ€è¦æœ‰N+1 ä¸ªéç»ˆæ­¢ç¬¦ï¼šN æ¡è§„åˆ™ï¼Œå¤–åŠ ä¸€ä¸ªè¡¨è¾¾å¼çš„åŸºæœ¬ç»„æˆå•ä½ã€‚  

ç»§ç»­ï¼Œæ ¹æ®ä¸Šè¿°è§„åˆ™æ¥æ„é€ ä¸Šä¸‹æ–‡æ— å…³è¯­æ³•ã€‚  
ç”±è§„åˆ™1ã€‚æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸¤æ¡è§„åˆ™`expr` ä¼˜å…ˆçº§ä¸º2ï¼Œ`term` ä¼˜å…ˆçº§ä¸º1ã€‚æ ¹æ®è§„åˆ™2ã€‚æˆ‘ä»¬éœ€è¦é¢å¤–å®šä¹‰ä¸€ä¸ª`factor` è§„åˆ™ï¼Œè™½ç„¶åªæ˜¯ä¸€ä¸ªæ•´æ•°ã€‚  

æ–°è¯­æ³•çš„èµ·å§‹ç¬¦æ˜¯`expr`ï¼Œè§„åˆ™ä½“æ˜¯ä¸€ä¸ªé«˜ä¸€çº§çš„`term` åé¢è·Ÿç€0ä¸ªæˆ–å¤šä¸ªç”±"åŠ å‡æ³•è¿ç®—ç¬¦å’Œ`term` ç»„æˆçš„ç»“æ„":  
![lsbasi_part5_cfg_expr.png](../_resources/lsbasi_part5_cfg_expr.png)
ä»¥æ­¤ç±»æ¨ï¼Œ`term` åˆ™æ˜¯ç”±æ›´é«˜ä¸€çº§çš„è¿ç®—ç¬¦å’Œè§„åˆ™ç»„æˆ:  ![lsbasi_part5_cfg_term.png](../_resources/lsbasi_part5_cfg_term.png)  
æœ€åŸºæœ¬çš„å•ä½`factor`:  
![lsbasi_part5_cfg_factor.png](../_resources/lsbasi_part5_cfg_factor.png)  

ä½œä¸ºè¯­æ³•å›¾çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å·²ç»åœ¨å‰é¢çš„æ–‡ç« ä¸­è§è¿‡ä¸Šè¿°è§„åˆ™äº†ï¼Œç°åœ¨æˆ‘ä»¬å°†å®ƒä»¬ç»„åˆæˆä¸€ç§è€ƒè™‘ä¼˜å…ˆçº§ä¸ç»“åˆæ€§çš„ä¸Šä¸‹æ–‡æ— å…³è¯­æ³•ï¼š
![lsbasi_part5_grammar.png](../_resources/lsbasi_part5_grammar.png)

ä¸‹é¢æ˜¯å…¶å¯¹åº”çš„è¯­æ³•å›¾ï¼š 
![lsbasi_part5_syntaxdiagram.png](../_resources/lsbasi_part5_syntaxdiagram.png) 

æ¯ä¸€ä¸ªæ–¹æ¡†éƒ½ä»£è¡¨ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ã€‚å¦‚æœæˆ‘ä»¬æ ¹æ®è¯­æ³•å›¾ä»`expr` æ¥è§£æ`7+5*2`ï¼Œéšç€æµç¨‹èµ°ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ä¹˜é™¤æ³•ä¼šä¼˜å…ˆäºåŠ å‡æ³•æ‰§è¡Œã€‚  
ä¸ºäº†èƒ½è‡ªåœ†å…¶è¯´ï¼Œæˆ‘ä»¬å°±ä»¥`7+5*2`ä¸ºä¾‹ï¼ŒæŒ‰ç…§è¯­æ³•å›¾çš„è§„åˆ™ï¼Œè·Ÿè¸ªä¸€ä¸‹è¿ç®—è¿‡ç¨‹ã€‚è¿™é‡Œä¹Ÿåªæ˜¯ä¸€ç§å±•ç¤ºè¿ç®—ä¼˜å…ˆçº§çš„æ–¹å¼:  
![lsbasi_part5_exprdecomp.png](../_resources/lsbasi_part5_exprdecomp.png)  

ä¸‹é¢è®©æˆ‘ä»¬ä»¥[04_ä¸Šä¸‹æ–‡æ— å…³è¯­æ³•](../lsbasi_cn/04_%E4%B8%8A%E4%B8%8B%E6%96%87%E6%97%A0%E5%85%B3%E8%AF%AD%E6%B3%95.md)çš„è§„åˆ™å°†è¯­æ³•è½¬åŒ–ä¸ºä»£ç ï¼Œå¹¶çœ‹å…¶æ˜¯å¦‚ä½•è¿è¡Œçš„ï¼Œè¿™é‡Œå†æ¬¡ç»™å‡ºè¯­æ³•æ˜ç»†:  
![lsbasi_part5_grammar.png](../_resources/lsbasi_part5_grammar.png)  

ä¸‹é¢æ˜¯è§£é‡Šå™¨çš„å®Œæ•´ä»£ç ï¼Œå®ƒå¯ä»¥éªŒè¯åªåŒ…å«åŠ å‡ä¹˜é™¤æ“ä½œçš„æ‰€æœ‰è¡¨è¾¾å¼ã€‚ä¸[04_ä¸Šä¸‹æ–‡æ— å…³è¯­æ³•](../lsbasi_cn/04_%E4%B8%8A%E4%B8%8B%E6%96%87%E6%97%A0%E5%85%B3%E8%AF%AD%E6%B3%95.md)ä¸­ç›¸æ¯”ï¼Œä¸»è¦æœ‰ä»¥ä¸‹æ”¹åŠ¨:  
- `Lexer` ç±»å¯ä»¥è¯†åˆ«`+`ï¼Œ`-`ï¼Œ`*`ï¼Œ`/` è¿ç®—ç¬¦(å¹¶æ²¡æœ‰å¤ªæ–°çš„å˜åŒ–)  
- å›å¿†æ¯ä¸€æ¡è§„åˆ™`R` éƒ½æœ‰åŒåçš„æ–¹æ³•`R()`ã€‚æœ€ç»ˆè§£é‡Šå™¨æ‹¥æœ‰3 ä¸ªéç»ˆæ­¢ç¬¦`expr`ï¼Œ`term`ï¼Œ`factor`ã€‚

æºç å¦‚ä¸‹:  
```python
# Token types
#
# EOF (end-of-file) token is used to indicate that
# there is no more input left for lexical analysis
INTEGER, PLUS, MINUS, MUL, DIV, EOF = (
    'INTEGER', 'PLUS', 'MINUS', 'MUL', 'DIV', 'EOF'
)


class Token(object):
    def __init__(self, type, value):
        # token type: INTEGER, PLUS, MINUS, MUL, DIV, or EOF
        self.type = type
        # token value: non-negative integer value, '+', '-', '*', '/', or None
        self.value = value

    def __str__(self):
        """String representation of the class instance.

        Examples:
            Token(INTEGER, 3)
            Token(PLUS, '+')
            Token(MUL, '*')
        """
        return 'Token({type}, {value})'.format(
            type=self.type,
            value=repr(self.value)
        )

    def __repr__(self):
        return self.__str__()


class Lexer(object):
    def __init__(self, text):
        # client string input, e.g. "3 * 5", "12 / 3 * 4", etc
        self.text = text
        # self.pos is an index into self.text
        self.pos = 0
        self.current_char = self.text[self.pos]

    def error(self):
        raise Exception('Invalid character')

    def advance(self):
        """Advance the `pos` pointer and set the `current_char` variable."""
        self.pos += 1
        if self.pos > len(self.text) - 1:
            self.current_char = None  # Indicates end of input
        else:
            self.current_char = self.text[self.pos]

    def skip_whitespace(self):
        while self.current_char is not None and self.current_char.isspace():
            self.advance()

    def integer(self):
        """Return a (multidigit) integer consumed from the input."""
        result = ''
        while self.current_char is not None and self.current_char.isdigit():
            result += self.current_char
            self.advance()
        return int(result)

    def get_next_token(self):
        """Lexical analyzer (also known as scanner or tokenizer)

        This method is responsible for breaking a sentence
        apart into tokens. One token at a time.
        """
        while self.current_char is not None:

            if self.current_char.isspace():
                self.skip_whitespace()
                continue

            if self.current_char.isdigit():
                return Token(INTEGER, self.integer())

            if self.current_char == '+':
                self.advance()
                return Token(PLUS, '+')

            if self.current_char == '-':
                self.advance()
                return Token(MINUS, '-')

            if self.current_char == '*':
                self.advance()
                return Token(MUL, '*')

            if self.current_char == '/':
                self.advance()
                return Token(DIV, '/')

            self.error()

        return Token(EOF, None)


class Interpreter(object):
    def __init__(self, lexer):
        self.lexer = lexer
        # set current token to the first token taken from the input
        self.current_token = self.lexer.get_next_token()

    def error(self):
        raise Exception('Invalid syntax')

    def eat(self, token_type):
        # compare the current token type with the passed token
        # type and if they match then "eat" the current token
        # and assign the next token to the self.current_token,
        # otherwise raise an exception.
        if self.current_token.type == token_type:
            self.current_token = self.lexer.get_next_token()
        else:
            self.error()

    def factor(self):
        """factor : INTEGER"""
        token = self.current_token
        self.eat(INTEGER)
        return token.value

    def term(self):
        """term : factor ((MUL | DIV) factor)*"""
        result = self.factor()

        while self.current_token.type in (MUL, DIV):
            token = self.current_token
            if token.type == MUL:
                self.eat(MUL)
                result = result * self.factor()
            elif token.type == DIV:
                self.eat(DIV)
                result = result / self.factor()

        return result

    def expr(self):
        """Arithmetic expression parser / interpreter.

        calc>  14 + 2 * 3 - 6 / 2
        17

        expr   : term ((PLUS | MINUS) term)*
        term   : factor ((MUL | DIV) factor)*
        factor : INTEGER
        """
        result = self.term()

        while self.current_token.type in (PLUS, MINUS):
            token = self.current_token
            if token.type == PLUS:
                self.eat(PLUS)
                result = result + self.term()
            elif token.type == MINUS:
                self.eat(MINUS)
                result = result - self.term()

        return result


def main():
    while True:
        try:
            # To run under Python3 replace 'raw_input' call
            # with 'input'
            text = raw_input('calc> ')
        except EOFError:
            break
        if not text:
            continue
        lexer = Lexer(text)
        interpreter = Interpreter(lexer)
        result = interpreter.expr()
        print(result)


if __name__ == '__main__':
    main()
```

å°†ä¸Šè¿°ä»£ç ä¿å­˜ä¸º`calc5.py` æˆ–è€…ç›´æ¥ä»[Github](https://github.com/rspivak/lsbasi/blob/master/part5/calc5.py) ä¸Šä¸‹è½½å¹¶è¿è¡Œã€‚ä»¥ä¸‹æ˜¯åœ¨æˆ‘ç”µè„‘ä¸Šçš„è¿è¡Œæƒ…å†µ:  
```python
$ python calc5.py
calc> 3
3
calc> 2 + 7 * 4
30
calc> 7 - 8 / 4
5
calc> 14 + 2 * 3 - 6 / 2
17
```

ä¸‹é¢æ˜¯ä»Šå¤©çš„ç»ƒä¹ :  
![lsbasi_part5_exercises.png](../_resources/lsbasi_part5_exercises.png)
- è‡ªå·±å†™ä¸€ä¸ªä¸Šé¢çš„è§£é‡Šå™¨ï¼Œå¹¶ä¿è¯å®ƒæ­£å¸¸å·¥ä½œã€‚ä½†æ˜¯ä¸è¦copy é—®ä¸­çš„ä»£ç   
- æ‰©å±•è§£é‡Šå™¨ï¼Œä½¿å…¶å¯ä»¥æ”¯æŒæ‹¬å·è¿ç®—ï¼Œä¾‹å¦‚`7 + 3 * (10 / (12 / (3 + 1) - 1))`

## è‡ªæ£€  
1. ä»€ä¹ˆæ˜¯å‘å·¦ç»“åˆ  
2. åŠ å‡æ³•è¿ç®—ç¬¦çš„ç»“åˆæ€§ï¼Œä¹˜é™¤æ³•çš„ç»“åˆæ€§  
3. åŠ æ³•ä¸ä¹˜æ³•è°çš„ä¼˜å…ˆçº§æ¯”è¾ƒé«˜  

ä½ å·²ç»è¯»åˆ°æœ€åäº†ï¼ŒçœŸæ£’ï¼æ•¬è¯·å…³æ³¨åç»­çš„æ–‡ç« ï¼Œä¸è¦å¿˜è®°åšç»ƒä¹ å“¦ã€‚  

ä»¥ä¸‹ä¹¦ç±å¯èƒ½ä¼šå¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼š  

1. [Language Implementation Patterns: Create Your Own Domain-Specific and General Programming Languages (Pragmatic Programmers)](http://www.amazon.com/gp/product/193435645X/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=193435645X&linkCode=as2&tag=russblo0b-20&linkId=MP4DCXDV6DJMEJBL)  
2. [Writing Compilers and Interpreters: A Software Engineering Approach](http://www.amazon.com/gp/product/0470177071/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=0470177071&linkCode=as2&tag=russblo0b-20&linkId=UCLGQTPIYSWYKRRM)  
3. [Modern Compiler Implementation in Java](http://www.amazon.com/gp/product/052182060X/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=052182060X&linkCode=as2&tag=russblo0b-20&linkId=ZSKKZMV7YWR22NMW)  
4. [Modern Compiler Design](http://www.amazon.com/gp/product/1461446988/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1461446988&linkCode=as2&tag=russblo0b-20&linkId=PAXWJP5WCPZ7RKRD)  
5. [Compilers: Principles, Techniques, and Tools (2nd Edition)](http://www.amazon.com/gp/product/0321486811/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=0321486811&linkCode=as2&tag=russblo0b-20&linkId=GOEGDQG4HIHU56FQ)   

-----  
2020-06-23 16:28




























